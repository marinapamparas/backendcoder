<div>
    <h1>Listado de productos din√°mico</h1>
    <ul>
        {{#each data}}
            <li>Id: {{id}} - Categoria: {{category}}, Producto: {{title}} - ${{price}}</li>
        {{/each}}
    </ul>  
</div>

<script src="/socket.io/socket.io.js"></script> 
{{!-- <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script> --}}

<script>
    const serverAddress = 'ws://localhost:8080';
    const socketClient = io(serverAddress);

    socketClient.on('productsChanged', data => {
        console.log("producto:", data)
        window.location.reload()
    });
</script> 








{{!-- <script>
    //const socketClient = io();
    //const chat = document.getElementById('chat');
//obtenemos la info que el cliente publico en el input generando una constante chat que obtenga el elemento por id. Y despues creamos un mensaje para enviar, cuando el valor del input chat sea diferente a vacio. Y emitimos un newMessage cada vez que se clickee el boton enviar
    
    
    //socketClient.on('newMessageConfirmation', data =>{console.log(data)})
    
    
    
    const //sendMessage = () =>{
        if(chat.value !== ''){
            socketClient.emit('newMessage', chat.value)
       //     console.log ("Mensaje enviado")
        }
    }
</script> --}}